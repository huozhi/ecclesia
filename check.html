<!DOCTYPE HTML>

<!DOCTYPE HTML>

<style>
	#pop-background {
		position:absolute;
		top:0%;
		left:0;
		width:100%;
		height:3785px;
		background:#000;
		opacity:0.5;
		display:none;
		/*z-index:998;*/
	}	

	#pop-window{
		position:absolute;
		top:100px;
		left:50%;
		width:830px;
		height:400px;
		background:#E3E3E3;
		padding: 10px;
		display:none;
		margin:0 0 0 -425px;
		/*z-index:999*/
	}
</style>
<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
	var micReady = false,
		camReady = false;
	$(document).ready(function(){
		$('#btn-pop').click(function(){
			if(!micReady && !camReady){
				$('#btn-enter').attr('disabled','disabled');
			}
			$('#pop-window').css('display','block');
			$('#pop-background').css('display','block');

			setTimeout(showImg, 3000);//替换为检查设备
		});

		$('#btn-leave').click(function(){
			window.close();
		});

		$('#btn-enter').click(function(){
			$('#mic').removeClass('glyphicon glyphicon-ok');
			$('#cam').removeClass('glyphicon glyphicon-ok');
			$('#pop-window').css('display','none');
			$('#pop-background').css('display','none');
		});

		function showImg(){
			micReady = true;
			camReady = true;

			if(micReady) $('#mic').addClass('glyphicon glyphicon-ok');
			if(camReady) $('#cam').addClass('glyphicon glyphicon-ok');
			if(micReady && camReady){
				$('#btn-enter').removeAttr('disabled');
			}
		}
	});
</script>
<button id='btn-pop' >pop out</button>
<div id="pop-background" ></div>
<div id="pop-window">
	<h2> Checking Device</h2>

	<div >
		<div class="iten-div">
			<ol>
				<li>checking microphone</li><span id="mic"></span>
				<li>checking camera</li><span id="cam"></span>
			</ol>
		</div>
		<div class="btn-div">
			<button id = 'btn-leave'class="btn-leave">Leave Room</button>

			<button id = 'btn-enter'class="btn-enter">Enter Room</button>
		</div>
	</div>
</div>
