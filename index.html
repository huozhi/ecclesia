<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>test</title>
<link rel="stylesheet" href="css/reveal.css"></style>
<link rel="stylesheet" href="css/bootstrap.min.css"></style>
<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="js/jquery.cookie.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/lib/js/head.min.js"></script>
<script type="text/javascript" src="js/reveal.js"></script>
<script type="text/javascript" src="js/sketch.min.js"></script>
<script type="text/javascript" src="js/Chart.min.js"></script>
</script>
<style type="text/css">
html {
  overflow: auto;
}
.board {
  position: relative;
  left: 50%;
  margin-left: -405px;
  width: 810px;
  height: 400px;
  border: black solid 1px;
  border-radius: 5px;  
}
.sketch {
  position: absolute;
  top: 0;
  left: 0;
  padding: 0px;
  border: black solid 0px;
  border-radius: 5px;

  z-index: 2;
  background-color: rgba(255,255,255,0);
}
.charts {
  position: relative;

  left: 50%;
  margin-left: -405px;
  margin-top: 10px;
  width: 810px;
  height: 200px;
  border: black solid 1px;
  border-radius: 5px;

}

.chart {
  margin: 10px;
}

.impress {
  position: absolute;
  margin: 0px;
  border: black solid 1px;

  border-radius: 5px;
}
.slides {
  border: blue dashed 2px;
  width: 800px;
  height: 400px;
  z-index: 1;
  
  zoom: 1;
}
.navbar {
  margin-bottom: 5px;
}

.lazy {
  width: 100px;
  height: 100px;
}
.chart-label {
  width: 188px;
}

.oper-frame {
  position: absolute;
  width: 200px;
  height: 200px;
}

.single-chart {
  position: relative;
  width: 200px;
  height: 200px;
  padding: 5px;
  display: inline-block;
}
div.single-chart > button {
  position: absolute;
  right: 5px;
  top: 5px;
}

.center {
    text-align:center;
}

.center form {
    display:inline-block;
}

</style>
</head>
<body>
<nav class="navbar navbar-default " role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#tool-bar">
        <span class="sr-only">navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Tool Box</a>
    </div>

    <div class="collapse navbar-collapse" id="tool-bar">
      <ul class="nav navbar-nav">
        <li class="active">
          <a href="#" data-toggle="modal" data-target="#add-chart-modal">
            <span class="glyphicon glyphicon-stats"></span> Add Chart</a>
        </li>
        <li>
          <a href="#" data-toggle="modal" data-target="#myModal2">
            <span class="glyphicon glyphicon-file"></span> Add Impress</a>
        </li>
        <li>
          <a id="test-add-chart" href="#" data-toggle="modal" data-target="#myModal2">
            <span class="glyphicon glyphicon-file"></span> Add Pie</a>
        </li>
        
      </ul>
    </div>
  </div>
</nav>
<!-- navigator models -->
<div class="modal fade" id="add-chart-modal" tabindex="-1" role="dialog" aria-labelledby="chart-modal-label" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <!-- <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> -->
        <h4 class="modal-title" id="chart-modal-label">Choose Chart</h4>
      </div>
      <div class="modal-body">

        <div id="chart-insert-carousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
          <!-- <ol class="carousel-indicators">
            <li data-target="#chart-insert-carousel" data-slide-to="0" class="active"></li>
            <li data-target="#chart-insert-carousel" data-slide-to="1"></li>
            <li data-target="#chart-insert-carousel" data-slide-to="2"></li>
          </ol> -->

          <!-- Wrapper for slides -->
          <div class="carousel-inner" role="listbox">
            <div class="item active">
              <div class="container">
                <div class="row">
                  <div class="col-md-2 col-ms-2 col-lg-2 chart-label">
                    <div class="thumbnail">
                      <a class="add-opt" title=""><img class="lazy" src="/img/chart-type-1.png" ></a>
                      <div class="caption">
                      </div>
                    </div>
                  </div>

                  <div class="col-md-2 col-ms-2 col-lg-2 chart-label">
                    <div class="thumbnail">
                      <a class="add-opt" title=""><img class="lazy" src="/img/chart-type-2.png" ></a>
                      <div class="caption">
                        
                      </div>
                    </div>
                  </div>

                  <div class="col-md-2 col-ms-2 col-lg-2 chart-label">
                    <div class="thumbnail">
                      <a class="add-opt" title=""><img class="lazy" src="/img/chart-type-3.png" ></a>
                      <div class="caption">
                        
                      </div>
                    </div>
                  </div>

                </div>
                <div class="row">
                  <div class="col-md-2 col-ms-2 col-lg-2 chart-label">
                    <div class="thumbnail">
                      <a class="add-opt" title=""><img class="lazy" src="/img/chart-type-4.png" ></a>
                      <div class="caption">
                        
                       
                      </div>
                    </div>
                  </div>

                  <div class="col-md-2 col-ms-2 col-lg-2 chart-label">
                    <div class="thumbnail">
                      <a class="add-opt" title=""><img class="lazy" src="/img/chart-type-5.png" ></a>
                      <div class="caption">
                        
                      </div>
                    </div>
                  </div>

                  <div class="col-md-2 col-ms-2 col-lg-2 chart-label">
                    <div class="thumbnail">
                      <a class="add-opt" title=""><img class="lazy" src="/img/chart-type-6.png" ></a>
                      <div class="caption">
                        
                      </div>
                    </div>
                  </div>
                </div>
              </div><!--end container-->
        
            </div>
            <div class="item">
              <!-- <form role="form">
                <div class="form-group col-md-4">
                  <label for="exampleInputEmail1">Email address</label>
                  <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter email">
                </div>
                <br>
                <div class="form-group col-md-4">
                  <label for="exampleInputPassword1">Password</label>
                  <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                </div>
                <br>
                <div class="form-group col-md-4">
                  <button id="chart-data-add" class="btn btn-primary">
                    <span class="glyphicon glyphicon-plus"></span>
                  </button>
                  <button id="chart-data-submit" class="btn btn-primary">
                    <span class="glyphicon glyphicon-ok"></span>
                  </button>
                </div>
              </form>
 -->


              <div class="chart-insert chart-insert-form center" role="form">
                <div class="input-group input-group-md col-md-8 col-md-offset-2">
                  <span class="input-group-addon">@</span>
                  <input type="text" class="form-control " placeholder="X-axis">
                </div>
                <br>
                <div class="input-group input-group-md col-md-8 col-md-offset-2">
                  <span class="input-group-addon">@</span>
                  <input type="text" class="form-control " placeholder="data-one">
                </div>
                <br>
                <div class="input-group input-group-md col-md-8 col-md-offset-2">
                  <span class="input-group-addon">@</span>
                  <input type="text" class="form-control " placeholder="data-two">
                </div>
                <br>
                <div class="input-group input-group-md col-md-8 ">
                  <button id="chart-data-add" class="btn btn-primary col-md-offset-6">
                    <span class="glyphicon glyphicon-plus"></span>
                  </button>
                  <button id="chart-data-submit" class="btn btn-primary col-md-offset-2">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                  </button>
                </div>
              </div>
            </div>
            
          </div>

  <!-- Controls -->
         <!--  <a class="left carousel-control" href="#chart-insert-carousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="right carousel-control" href="#chart-insert-carousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
          </a> -->
        </div>




      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary">Insert</button>
      </div>
    </div>
  </div>
</div>

<div class="container">
<div class="board">
  <div id="reveal" class="reveal impress">

    <div class="slides">
      <section data-markdown="example.md"  
         data-separator="^\n\n\n"  
         data-vertical="^\n\n"  
         data-notes="^Note:"  
         data-charset="iso-8859-15">
      </section>
      <section data-markdown>
        <script type="text/template">
            ```php
            public function foo()
            {
                $foo = array(
                    'bar' => 'bar'
                )
            }
            ```
        </script>
      </section>
      <section>
        <h1>wtf</h1>
      </section>
      <section>
        <h1>hell</h1>
      </section>
    </div>
  </div>
</div>

<div id="charts" class=" charts">
  
</div>
</div>
<script type="text/javascript">

Reveal.initialize({
  width: 800,
  height: 400,
  margin: 0.5,
  minScale: 1.0,
  maxScale: 1.0,


  center: true,
  transition: 'linear',
  transitionSpeed: 'slow',
  backgroundTransition: 'slide',

  dependencies: [
    { src: 'js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
    { src: 'js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
    // { src: 'js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
    // { src: 'js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
    // { src: 'js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } },
    { src: 'js/plugin/math/math.js', async: true }
    ]  
});

Reveal.addEventListener( 'ready', function( event ) {
  var present = $('section.present');
  if (present.children('canvas').length != 0) {
    console.log('has canvas')
    var curCanvas = $('.present > canvas');
    if (!curCanvas.hasClass('sketch-present')) {
      // console.log('no active class')
      curCanvas.addClass('sketch-present');
    }
  }
  else {
    // console.log('ready no canvas')
    present.append('<canvas class="sketch sketch-present" width="800" height="400"></canvas>');
  }
  $(function() {
    $('.sketch-present').sketch();

  });
});

Reveal.addEventListener( 'slidechanged', function( event ) {
  $('.sketch-present').removeClass('sketch-present');
  var present = $('.slides > section.present');
  if (present.children('canvas').length != 0) {
    // console.log('has canvas')
    var curCanvas = $('.present > canvas');
    if (curCanvas.hasClass('sketch-present') == false) {
      // console.log('no active class')
      curCanvas.addClass('sketch-present');
    }
  }
  else {
    // console.log('slideChange no canvas')
    present.append('<canvas class="sketch sketch-present" width="800" height="400"></canvas>');
  }
  $(function() {
    $('.sketch-present').sketch();
  });
});



$(document).ready(function() {
  
  $('slides').attr('zoom','1.0')
  


  $('#test-add-chart').click(function() {
    var addContent =
    '<div class="single-chart">' +
      '<canvas class="chart" width="180" height="180"></canvas>' +
      '<button id="budapeisi" class="btn btn-default btn-xs rm-chart"><span class="glyphicon glyphicon-remove"></span></button>' +
    '</div>';
    $('#charts').append(addContent);
    var ctx = $('canvas.chart').last().get(0).getContext('2d');
    var pieData = [
      {
        value : 20,
        color : "#F38630",
        label : 'Sleep',
        labelColor : 'white',
        labelFontSize : '24'
      },
      {
        value : 30,
        color : "#E38231",
        label : 'Wocao',
        labelColor : 'white',
        labelFontSize : '24'
      },
      {
        value : 50,
        color : "#FFF630",
        label : 'Heihei',
        labelColor : 'white',
        labelFontSize : '24'
      },
      
    ];
    // var data = {
    //   labels : ["January","February","March","April","May","June","July"],
    //   datasets : [
    //     {
    //       fillColor : "rgba(220,220,220,0.5)",
    //       strokeColor : "rgba(220,220,220,1)",
    //       pointColor : "rgba(220,220,220,1)",
    //       pointStrokeColor : "#fff",
    //       data : [65,59,90,81,56,55,40]
    //     },
    //     {
    //       fillColor : "rgba(151,187,205,0.5)",
    //       strokeColor : "rgba(151,187,205,1)",
    //       pointColor : "rgba(151,187,205,1)",
    //       pointStrokeColor : "#fff",
    //       data : [28,48,40,19,96,27,100]
    //     }
    //   ]
    // }
    new Chart(ctx).Pie(pieData);

    $('.rm-chart').click(function() {
      console.log('rm corresponding chart');
      $(this).parent().remove();
    });
  });

  $('.carousel').carousel({
    interval: false
  })


  $('.add-opt').click(function() {
    $('#chart-insert-carousel').carousel('next');
  });

  $('#chart-data-submit').click(function() {
    $('#chart-insert-carousel').carousel('prev');

  });
  
});

</script>
</body>
</html>